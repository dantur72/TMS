<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Milk-Tank Temperature Dashboard</title>
  <!-- Tailwind (CDN build) -->
  <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
  <!-- Recharts depends on React 18 -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <!-- Recharts UMD bundle -->
  <script src="https://unpkg.com/recharts/umd/Recharts.min.js"></script>
  <!-- Framer-motion (for the hero fade) -->
  <script src="https://unpkg.com/framer-motion/dist/framer-motion.umd.js"></script>
  <!-- Icons (Lucide) -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>

  <!-- Minimal styling for modal backdrop -->
  <style>
    .modal-backdrop {
      position: fixed; inset: 0;
      background: rgba(0,0,0,0.5);
      display:flex; align-items:center; justify-content:center;
      z-index:50;
    }
  </style>
</head>
<body class="h-screen w-screen overflow-hidden">

<!-- Hero -->
<div id="root"></div>

<!-- ========== DASHBOARD SCRIPT ========== -->
<script type="text/javascript">
  // ---- Import from globals ----
  const { motion } = window['framer-motion'];
  const {
    LineChart, Line, CartesianGrid,
    XAxis, YAxis, Tooltip, ResponsiveContainer
  } = window.Recharts;

  // ---- Mock data every 30 min from 07:00 ----
  function generateData() {
    const rows=[], start=new Date();
    start.setHours(7,0,0,0);
    for(let i=0;i<24;i++){
      const ts=new Date(start.getTime()+i*30*60*1000);
      rows.push({
        time:ts.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'}),
        tankA:4+Math.sin(i/4)*0.6+Math.random()*0.2,
        tankB:4.5+Math.cos(i/3)*0.5+Math.random()*0.2,
        fridge:3.5+Math.sin(i/5)*0.4+Math.random()*0.2
      });
    }
    return rows;
  }

  function App(){
    const [open,setOpen]=React.useState(false);
    const data = React.useMemo(generateData,[]);
    const latestFridge = data[data.length-1].fridge.toFixed(1);
    const heroImg = "https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=1500&q=80";

    return (
      React.createElement("div",{className:"relative h-full w-full"},
        /* Hero */
        React.createElement("div",{
          className:"h-full w-full bg-cover bg-center flex flex-col items-center justify-center",
          style:{backgroundImage:`url(${heroImg})`}
        },
          React.createElement(motion.h1,{
            className:"text-5xl font-light mb-8 text-black/80 text-center",
            initial:{opacity:0,y:-40}, animate:{opacity:1,y:0}, transition:{duration:0.8}
          },"Our coffee menu,", React.createElement("br",null),"your way."),
          React.createElement("button",{
            className:"px-8 py-4 text-lg bg-black text-white rounded-full",
            onClick:()=>{}
          },"Start your order"),
          /* Hidden hotspot */
          React.createElement("div",{
            className:"absolute bottom-4 left-4 h-20 w-20 cursor-pointer opacity-0",
            onDoubleClick:()=>setOpen(true)
          })
        ),

        /* Modal */
        open && React.createElement("div",{className:"modal-backdrop",onClick:()=>setOpen(false)},
          React.createElement("div",{
              className:"bg-white rounded-xl w-[90vw] max-w-4xl max-h-[90vh] overflow-hidden",
              onClick:e=>e.stopPropagation() /* prevent backdrop close */
          },
            /* Header */
            React.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-b"},
              React.createElement("h2",{className:"flex items-center gap-2 text-2xl font-semibold"},
                React.createElement("i",{className:"lucide lucide-thermometer"}),"Milk Temperature Dashboard"
              ),
              React.createElement("span",{className:"bg-slate-200 text-sm font-medium px-2 py-1 rounded"},
                "Fridge: ",latestFridge," °C"
              ),
              React.createElement("button",{className:"text-sm",onClick:()=>setOpen(false)},"Close")
            ),
            /* Scroll area */
            React.createElement("div",{className:"px-6 py-4 space-y-6 overflow-y-auto",style:{maxHeight:'calc(90vh - 90px)'}},
              /* Card 1 */
              React.createElement("div",{className:"border rounded-lg p-4 h-60"},
                React.createElement("h3",{className:"mb-2 font-medium"},"Milk tank A: dairy milk"),
                React.createElement(ResponsiveContainer,{width:"100%",height:"100%"},
                  React.createElement(LineChart,{data:data,margin:{top:5,right:20,bottom:5,left:0}},
                    React.createElement(CartesianGrid,{strokeDasharray:"3 3"}),
                    React.createElement(XAxis,{dataKey:"time",interval:3,tick:{fontSize:11}}),
                    React.createElement(YAxis,{domain:[0,10],tick:{fontSize:11},label:{value:'°C',angle:-90,position:'insideLeft'}}),
                    React.createElement(Tooltip,{formatter:v=>v.toFixed(1)+' °C'}),
                    React.createElement(Line,{type:"monotone",dataKey:"tankA",stroke:"#000",strokeWidth:2,dot:false})
                  )
                )
              ),
              /* Card 2 */
              React.createElement("div",{className:"border rounded-lg p-4 h-60"},
                React.createElement("h3",{className:"mb-2 font-medium"},"Milk tank B: non-dairy milk"),
                React.createElement(ResponsiveContainer,{width:"100%",height:"100%"},
                  React.createElement(LineChart,{data:data,margin:{top:5,right:20,bottom:5,left:0}},
                    React.createElement(CartesianGrid,{strokeDasharray:"3 3"}),
                    React.createElement(XAxis,{dataKey:"time",interval:3,tick:{fontSize:11}}),
                    React.createElement(YAxis,{domain:[0,10],tick:{fontSize:11},label:{value:'°C',angle:-90,position:'insideLeft'}}),
                    React.createElement(Tooltip,{formatter:v=>v.toFixed(1)+' °C'}),
                    React.createElement(Line,{type:"monotone",dataKey:"tankB",stroke:"#555",strokeWidth:2,dot:false})
                  )
                )
              )
            )
          )
        )
      )
    );
  }

  ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App));
</script>

</body>
</html>
